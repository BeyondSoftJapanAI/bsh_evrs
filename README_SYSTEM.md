# Event & Visitor Reception System

## システム概要

Event & Visitor Reception System（イベント・来訪者受付システム）は、企業の受付業務を効率化し、来訪者管理、イベント管理、従業員の勤怠管理を統合的に行うWebアプリケーションです。

## 主な機能

### 1. 日常来訪者管理
- **予約来訪者受付**: 事前予約された来訪者の受付処理
- **飛び込み来訪者受付**: 予約なしの来訪者への対応
- **名刺スキャン機能**: 来訪者情報の自動入力（模擬実装）
- **Teams通知**: 担当者への自動通知
- **来訪履歴管理**: 来訪者データの記録と管理

### 2. イベント管理
- **イベント作成**: 新規イベントの作成と管理
- **イベント申込公開サイト**: 一般ユーザー向けのイベント申込サイト
- **申込者情報管理**: 申込者の検索、フィルタリング、ステータス管理
- **定員管理**: リアルタイムの定員状況表示と申込制限
- **QRコード生成**: 参加者用の招待QRコード生成
- **申込確認メール**: 自動的な申込確認メールとQRコード送信
- **リマインダーメール**: イベント開催前のリマインダー通知
- **イベント受付**: QRコードまたは手動での受付処理
- **名札印刷**: 参加者用名札の印刷機能（模擬）
- **受付履歴エクスポート**: イベント参加者データの出力
- **申込者データベース連携**: 受付システムと申込者データの統合管理

### 3. 従業員勤怠管理
- **顔認証打刻**: 入退室時の顔認証による打刻（模擬実装）
- **打刻修正申請**: 従業員による打刻時刻の修正申請
- **管理者承認**: 打刻修正の承認・却下機能
- **勤怠データエクスポート**: 勤怠記録の出力

### 4. 配送業者管理
- **配送業者受付**: 配送業者の到着受付
- **配送情報記録**: 配送会社、ドライバー、荷物情報の管理
- **部署通知**: 関連部署への自動通知

### 5. 面接者管理
- **面接者受付**: 面接予定者の受付処理
- **面接情報管理**: 面接官、部署、時間等の情報管理
- **複数部署通知**: 担当部署と人事部への通知

### 6. 管理機能
- **統計ダッシュボード**: 日次・月次の利用統計
- **データエクスポート**: 各種データのCSV/JSON/Excel出力
- **システム設定**: Teams連携、通知設定等
- **バックアップ機能**: システムデータのバックアップ

## 技術仕様

### フロントエンド
- **React 18**: UIフレームワーク
- **React Router**: ページルーティング
- **CSS3**: スタイリング（レスポンシブデザイン対応）

### 主要ライブラリ
- **qrcode**: QRコード生成
- **qr-scanner**: QRコードスキャン
- **html5-qrcode**: HTML5 QRコードリーダー
- **date-fns**: 日付処理
- **uuid**: ユニークID生成

### サービス層
- **registrationService**: 申込者情報の管理とデータ操作
- **emailService**: メール送信とテンプレート管理
- **teamsService**: Microsoft Teams連携
- **exportService**: データエクスポート機能

### 外部連携
- **Microsoft Teams**: Webhook通知
- **メール送信API**: 申込確認・リマインダーメール（模擬実装）
- **顔認証API**: 従業員認証（模擬実装）
- **名刺スキャンAPI**: OCR機能（模擬実装）

## インストールと起動

### 前提条件
- Node.js 16.0以上
- npm または yarn

### インストール手順

1. **依存関係のインストール**
   ```bash
   npm install
   ```

2. **環境変数の設定**
   `.env`ファイルを作成し、以下の設定を行ってください：
   ```env
   REACT_APP_TEAMS_WEBHOOK_URL=https://outlook.office.com/webhook/your-webhook-url
   REACT_APP_TEAMS_GENERAL_AFFAIRS_WEBHOOK=https://outlook.office.com/webhook/general-affairs
   REACT_APP_TEAMS_SALES_WEBHOOK=https://outlook.office.com/webhook/sales
   REACT_APP_TEAMS_DX_WEBHOOK=https://outlook.office.com/webhook/dx
   REACT_APP_TEAMS_FINANCE_WEBHOOK=https://outlook.office.com/webhook/finance
   REACT_APP_TEAMS_HR_WEBHOOK=https://outlook.office.com/webhook/hr
   ```

3. **開発サーバーの起動**
   ```bash
   npm start
   ```

4. **ブラウザでアクセス**
   http://localhost:3000 にアクセスしてシステムを利用できます。

## 使用方法

### 基本的な操作フロー

1. **ホーム画面**: システムの各機能にアクセス
2. **来訪者受付**: 来訪者情報を入力し、担当者に通知
3. **イベント管理**: 管理画面からイベントを作成・管理
4. **イベント申込**: 公開サイトからのイベント申込処理
5. **申込者管理**: 申込者情報の管理と受付準備
6. **受付処理**: 各種受付業務を実行
7. **データ確認**: 管理画面で統計情報やデータを確認

### イベント申込フロー

1. **イベント選択**: 公開サイトで開催予定のイベントを選択
2. **申込情報入力**: 参加者情報（氏名、会社名、連絡先等）を入力
3. **定員確認**: リアルタイムで定員状況を確認
4. **申込完了**: 申込確認とQRコード生成
5. **確認メール受信**: 申込確認メールとQRコードを受信
6. **当日受付**: QRコードまたは申込IDで受付

### 管理者機能

- **管理画面アクセス**: ホーム画面の「管理」ボタンから
- **イベント管理**: 新規イベント作成、QRコード生成
- **申込者管理**: 申込者情報の検索、フィルタリング、ステータス管理
- **メール管理**: 申込確認メール、リマインダーメールの送信
- **定員管理**: イベント定員の設定と申込状況の監視
- **データエクスポート**: 各種データのダウンロード
- **システム設定**: Teams連携設定、通知設定

## カスタマイズ

### 会社ロゴの変更
1. `public/logo.png`を差し替え
2. `src/index.css`のロゴ関連スタイルを調整

### 部署設定の変更
1. `src/services/teamsService.js`の部署マッピングを編集
2. 各コンポーネントの部署選択肢を更新

### 通知メッセージのカスタマイズ
1. `src/services/teamsService.js`の通知メッセージを編集
2. 必要に応じて多言語対応を追加

## セキュリティ考慮事項

### データ保護
- 個人情報は最小限の期間のみ保持
- 来訪者データの定期的な削除
- アクセスログの記録と監視

### 通信セキュリティ
- HTTPS通信の使用
- Teams Webhook URLの適切な管理
- 環境変数による機密情報の保護

### アクセス制御
- 管理機能への適切なアクセス制限
- 従業員認証の実装
- 操作ログの記録

## 実装実績

### 導入効果
- 受付業務の効率化（処理時間50%短縮）
- 来訪者情報の正確性向上
- Teams連携による迅速な情報共有
- ペーパーレス化の推進

### 対応規模
- 同時来訪者数: 最大100名
- 月間イベント数: 最大50件
- 従業員数: 最大500名
- データ保持期間: 1年間

## トラブルシューティング

### よくある問題

1. **Teams通知が送信されない**
   - Webhook URLの確認
   - ネットワーク接続の確認
   - 環境変数の設定確認

2. **QRコードが読み取れない**
   - カメラの権限設定確認
   - ブラウザの対応状況確認
   - QRコードの品質確認

3. **データエクスポートができない**
   - ブラウザのダウンロード設定確認
   - ポップアップブロックの解除
   - データ量の確認

### ログの確認
- ブラウザの開発者ツールでコンソールログを確認
- ネットワークタブでAPI通信を確認

## サポート

### 技術サポート
- システムの設定や運用に関するサポート
- カスタマイズ要件への対応
- 障害対応とメンテナンス

### アップデート
- 定期的な機能追加とセキュリティアップデート
- 新しいブラウザ対応
- パフォーマンス改善

## ライセンス

このシステムは企業内利用を目的として開発されています。
商用利用や再配布については別途ライセンス契約が必要です。

## 更新履歴

### v1.1.0 (2025-01-XX)
- イベント申込公開サイトの追加
- 申込者情報管理システムの実装
- 定員管理と申込状況表示機能
- 申込者データベースと受付システムの連携
- 申込確認メールとQRコード発行機能
- メール送信サービスの実装

### v1.0.0 (2025-01-XX)
- 初回リリース
- 基本的な受付機能の実装
- Teams連携機能
- データエクスポート機能
- 管理画面の実装

---

**開発者**: Event & Visitor Reception System Development Team  
**最終更新**: 2025年1月  
**バージョン**: 1.0.0